@using Microsoft.AspNetCore.Components.Web

<div class="fixed inset-0 bg-black/40 backdrop-blur-sm z-50 flex items-center justify-center p-4">
    <div class="w-[700px] bg-white dark:bg-surface-dark rounded-xl shadow-2xl border border-slate-200 dark:border-border-dark flex flex-col overflow-hidden animate-in fade-in zoom-in duration-200">
        <!-- Composer Header -->
        <header class="bg-slate-50 dark:bg-background-dark px-4 py-3 flex items-center justify-between border-b border-slate-200 dark:border-border-dark">
            <div class="flex gap-2">
                <div class="w-3 h-3 rounded-full bg-red-500 cursor-pointer" @onclick="OnClose"></div>
                <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
                <div class="w-3 h-3 rounded-full bg-green-500"></div>
            </div>
            <h3 class="text-sm font-bold text-slate-900 dark:text-white">New Message</h3>
            <div class="w-12"></div>
        </header>

        <!-- Composer Fields -->
        <div class="flex flex-col">
            <div class="flex items-center px-4 py-3 border-b border-slate-100 dark:border-border-dark">
                <span class="text-sm text-slate-400 w-12">To:</span>
                <input class="flex-1 border-none bg-transparent p-0 text-sm focus:ring-0 placeholder-slate-400 dark:text-white" placeholder="recipients@example.com" type="text" />
            </div>
            <div class="flex items-center px-4 py-3 border-b border-slate-100 dark:border-border-dark">
                <span class="text-sm text-slate-400 w-12">Subject:</span>
                <input class="flex-1 border-none bg-transparent p-0 text-sm focus:ring-0 font-medium dark:text-white" placeholder="Enter subject" type="text" />
            </div>
        </div>

        <!-- Rich Text Area -->
        <div class="flex-1 min-h-[300px] p-6 text-sm text-slate-800 dark:text-slate-200 outline-none overflow-y-auto" contenteditable="true">
            <p>Type your message here...</p>
        </div>

        <!-- Composer Footer -->
        <footer class="p-4 border-t border-slate-200 dark:border-border-dark flex items-center justify-between bg-slate-50 dark:bg-background-dark/50">
            <div class="flex gap-2">
                <button class="p-2 text-slate-500 hover:text-primary transition-colors"><span class="material-icons text-xl">format_bold</span></button>
                <button class="p-2 text-slate-500 hover:text-primary transition-colors"><span class="material-icons text-xl">attach_file</span></button>
            </div>
            <div class="flex items-center gap-4">
                <button class="text-sm text-slate-500 font-medium hover:text-slate-800 dark:hover:text-white" @onclick="OnClose">Discard</button>
                <button class="bg-primary text-white px-6 py-2 rounded-lg text-sm font-bold hover:bg-primary/90 transition-colors" @onclick="OnClose">Send</button>
            </div>
        </footer>
    </div>
</div>

@code {
    [Parameter] public EventCallback OnClose { get; set; }
}
