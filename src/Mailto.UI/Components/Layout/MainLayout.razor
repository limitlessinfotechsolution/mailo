@inherits LayoutComponentBase
@using Mailto.UI.Components

<div class="flex h-screen overflow-hidden bg-background-light dark:bg-background-dark font-display text-slate-800 dark:text-slate-200">
    @if (!IsGuestPage)
    {
        <Sidebar />
    }

    <main class="flex-1 flex flex-col min-w-0 overflow-hidden">
        @Body
    </main>
</div>

@code {
    [Inject] private NavigationManager Navigation { get; set; } = default!;

    private bool IsGuestPage => Navigation.Uri.Contains("/login") || Navigation.Uri.Contains("/onboarding");

    protected override void OnInitialized()
    {
        Navigation.LocationChanged += (s, e) => StateHasChanged();
    }
}
